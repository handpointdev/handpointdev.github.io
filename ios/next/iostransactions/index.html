<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-ios docs-doc-id-iostransactions">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Transaction Types | Handpoint</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer.handpoint.io/ios/next/iostransactions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-ios-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-ios-current"><meta data-rh="true" property="og:title" content="Transaction Types | Handpoint"><meta data-rh="true" name="description" content="Sale"><meta data-rh="true" property="og:description" content="Sale"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://developer.handpoint.io/ios/next/iostransactions"><link data-rh="true" rel="alternate" href="https://developer.handpoint.io/ios/next/iostransactions" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.handpoint.io/ios/next/iostransactions" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Handpoint RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Handpoint Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-1295190-6","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>









<script src="https:////js-eu1.hs-scripts.com/25846579.js"></script><link rel="stylesheet" href="/assets/css/styles.b7a35c4c.css">
<link rel="preload" href="/assets/js/runtime~main.12f25c84.js" as="script">
<link rel="preload" href="/assets/js/main.1bc9b849.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA" width="75"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU" width="75"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Getting Started</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/android/androidintroduction">Android SDK 7.1005.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/android/next/androidintroduction">Next</a></li><li><a class="dropdown__link" href="/android/androidintroduction">Android SDK 7.1005.0</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.1004.2/androidintroduction">Android SDK 7.1004.2</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.1004.1/androidintroduction">Android SDK 7.1004.1</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.1004.0/androidintroduction">Android SDK 7.1004.0</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.1002.0/androidintroduction">Android SDK 7.1002.0</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.1001.0/androidintroduction">Android SDK 7.1001.0</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.0.2/androidintroduction">Android SDK 7.0.2</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.0.1/androidintroduction">Android SDK 7.0.1</a></li><li><a class="dropdown__link" href="/android/Android SDK 7.0.0/androidintroduction">Android SDK 7.0.0</a></li><li><a class="dropdown__link" href="/android/Android SDK 6.7.4/androidintroduction">Android SDK 6.7.4</a></li><li><a class="dropdown__link" href="/android/Android SDK 6.7.2/androidintroduction">Android SDK 6.7.2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/restapi/restintroduction">REST API 2.20.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/restapi/next/restintroduction">Next</a></li><li><a class="dropdown__link" href="/restapi/restintroduction">REST API 2.20.0</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.17.0/restintroduction">REST API 2.17.0</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.15.0/restintroduction">REST API 2.15.0</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.14.0/restintroduction">REST API 2.14.0</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.13.0/restintroduction">REST API 2.13.0</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.12.0/restintroduction">REST API 2.12.0</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.10.0/restintroduction">REST API 2.10.0</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.7.1/restintroduction">REST API 2.7.1</a></li><li><a class="dropdown__link" href="/restapi/REST API 2.6.0/restintroduction">REST API 2.6.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/ios/next/iosintroduction">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ios/next/iostransactions">Next</a></li><li><a class="dropdown__link" href="/ios/iostransactions">iOS SDK 4.0.1</a></li><li><a class="dropdown__link" href="/ios/iOS SDK 4.0.0/iostransactions">iOS SDK 4.0.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/windows/windowsintroduction">Windows SDK 4.2.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/windows/next/windowsintroduction">Next</a></li><li><a class="dropdown__link" href="/windows/windowsintroduction">Windows SDK 4.2.0</a></li><li><a class="dropdown__link" href="/windows/Windows SDK 4.1.0/windowsintroduction">Windows SDK 4.1.0</a></li><li><a class="dropdown__link" href="/windows/Windows SDK 4.0.0/windowsintroduction">Windows SDK 4.0.0</a></li><li><a class="dropdown__link" href="/windows/Windows SDK 3.4.0/windowsintroduction">Windows SDK 3.4.0</a></li><li><a class="dropdown__link" href="/windows/Windows SDK 3.3.0/windowsintroduction">Windows SDK 3.3.0</a></li><li><a class="dropdown__link" href="/windows/Windows SDK 3.2.5/windowsintroduction">Windows SDK 3.2.5</a></li><li><a class="dropdown__link" href="/windows/Windows SDK 3.2.4/windowsintroduction">Windows SDK 3.2.4</a></li><li><a class="dropdown__link" href="/windows/Windows SDK 3.2.0/windowsintroduction">Windows SDK 3.2.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/javascript/javascriptintroduction">JavaScript SDK 7.2.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/javascript/next/javascriptintroduction">Next</a></li><li><a class="dropdown__link" href="/javascript/javascriptintroduction">JavaScript SDK 7.2.2</a></li><li><a class="dropdown__link" href="/javascript/JavaScript SDK 7.2.0/javascriptintroduction">JavaScript SDK 7.2.0</a></li><li><a class="dropdown__link" href="/javascript/JavaScript SDK 7.1.0/javascriptintroduction">JavaScript SDK 7.1.0</a></li><li><a class="dropdown__link" href="/javascript/JavaScript SDK 7.0.0/javascriptintroduction">JavaScript SDK 7.0.0</a></li><li><a class="dropdown__link" href="/javascript/JavaScript SDK 6.3.0/javascriptintroduction">JavaScript SDK 6.3.0</a></li><li><a class="dropdown__link" href="/javascript/JavaScript SDK 6.2.1/javascriptintroduction">JavaScript SDK 6.2.1</a></li><li><a class="dropdown__link" href="/javascript/Javascript SDK 6.2.0/javascriptintroduction">Javascript SDK 6.2.0</a></li><li><a class="dropdown__link" href="/javascript/JavaScript SDK 6.1.0/javascriptintroduction">JavaScript SDK 6.1.0</a></li><li><a class="dropdown__link" href="/javascript/JavaScript SDK 6.0.1/javascriptintroduction">JavaScript SDK 6.0.1</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/express/expressintroduction">Express SDK 1.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/express/next/expressintroduction">Next</a></li><li><a class="dropdown__link" href="/express/expressintroduction">Express SDK 1.3</a></li><li><a class="dropdown__link" href="/express/Express SDK 1.2/expressintroduction">Express SDK 1.2</a></li></ul></div><a href="https://www.npmjs.com/package/cordova-plugin-handpoint" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Cordova Plugin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/thescruba/xamarin-handpoint-bindings" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Xamarin Plugin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://handpoint.atlassian.net/wiki/spaces/PD/overview?homepageId=5898250" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://status.handpoint.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-statuspage-icon" aria-label="Status Page"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosintroduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosmigration">Migration from 3.X</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosprocessing">Trigger Amounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosinstallation">SDK Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosintegration">Integration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iossdkprocessing">Integration Example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/ios/next/iostransactions">Transaction Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosdevicemanagement">Terminal Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosevents">Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ios/next/iosobjects">Objects</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Handpoint<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/ios/iostransactions">latest version</a></b> (<!-- -->iOS SDK 4.0.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Transaction Types</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Transaction Types</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2">Sale<a class="hash-link" href="#2" title="Direct link to heading">​</a></h2><p><code>saleWithAmount</code> <span class="badge badge--info">Method</span></p><p>A sale initiates a payment operation to the card reader. In it&#x27;s simplest form you only have to pass the <strong>amount</strong> and <strong>currency</strong> but it also accepts a map with optional parameters.</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>amount</code> <span class="badge badge--primary">Required</span>  <br><em>NSInteger</em></td><td>Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)</td></tr><tr><td><code>currency </code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>3 letter currency code in accordance to ISO4217</td></tr><tr><td><code>options</code> <br><em>SaleOptions</em></td><td>An object to store all the customization options for a sale.</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//If you just need a plain vanilla sale:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api saleWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//But you can customize your sale:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SaleOptions </span><span class="token operator">*</span><span class="token plain">options </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">SaleOptions new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customerReference </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;Your customer reference&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//If you need Multi MID / Custom merchant Authentication:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MerchantAuth </span><span class="token operator">*</span><span class="token plain">auth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">MerchantAuth new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Credential </span><span class="token operator">*</span><span class="token plain">cred </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Credential new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">acquirer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Credential getAcquirerFromString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;acquirer&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">mid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;mid&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;tid&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Add as many credentials as Acquirers your merchant have agreements with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">auth add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">merchantAuth </span><span class="token operator">=</span><span class="token plain"> auth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//If you want to specify the budget period</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Only available for SureSwipe/Altech</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Here it&#x27;s 3 months</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">divideByMonths </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;3&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api saleWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError</strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#17"><strong>requestSignature</strong></a></p><p>Invoked if card verification requires signature.</p><hr><p><a href="/ios/next/iosevents#16"><strong>responseFinanceStatus </strong></a></p><p>Invoked when the payment terminal finishes processing the transaction.</p><hr><p><strong>Returns</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>YES</code> if operation starts successfully.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4">Sale And Tokenize Card<a class="hash-link" href="#4" title="Direct link to heading">​</a></h2><p><code>saleAndTokenizeCardWithAmount</code> <span class="badge badge--info">Method</span></p><p>A sale and tokenize operation initiates a payment operation with the payment terminal.</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>amount</code> <span class="badge badge--primary">Required</span>  <br><em>NSInteger</em></td><td>Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)</td></tr><tr><td><code>currency</code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>3 letter currency code in accordance to ISO4217</td></tr><tr><td><code>options</code> <br><em>SaleOptions</em></td><td>An object to store all the customization options for a sale.</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//If you just need a plain vanilla sale tokenization:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api saleAndTokenizeWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//But you can customize your sale:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SaleOptions </span><span class="token operator">*</span><span class="token plain">options </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">SaleOptions new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customerReference </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;Your customer reference&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//If you need Multi MID / Custom merchant Authentication:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MerchantAuth </span><span class="token operator">*</span><span class="token plain">auth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">MerchantAuth new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Credential </span><span class="token operator">*</span><span class="token plain">cred </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Credential new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">acquirer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Credential getAcquirerFromString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;acquirer&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">mid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;mid&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;tid&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Add as many credentials as Acquirers your merchant have agreements with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">auth add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">merchantAuth </span><span class="token operator">=</span><span class="token plain"> auth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//If you want to specify the budget period</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Only available for SureSwipe/Altech</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Here it&#x27;s 3 months</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">divideByMonths </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;3&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api saleAndTokenizeWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                       options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError</strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#17"><strong>requestSignature</strong></a></p><p>Invoked if card verification requires signature.</p><hr><p><a href="/ios/next/iosevents#16"><strong>responseFinanceStatus</strong></a></p><p>Invoked when the payment terminal finishes processing the transaction.</p><hr><p><strong>Returns</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>YES</code> if operation starts successfully.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3">Sale Reversal<a class="hash-link" href="#3" title="Direct link to heading">​</a></h2><p><code>saleVoidWithAmount</code> <span class="badge badge--info">Method</span></p><p>Request a void of a previous sale transaction. Amount, currency and transactionID of the original sale must be sent as parameters. This operation reverts (if possible) a specific sale identified with a transaction id. Note that transactions can only be reversed the same day as when the transaction was made.</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>amount</code> <span class="badge badge--primary">Required</span>  <br><em>NSInteger</em></td><td>Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)</td></tr><tr><td><code>currency</code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>3 letter currency code in accordance to ISO4217</td></tr><tr><td><code>transaction</code> <span class="badge badge--primary">Required</span> <br> <em>NSString</em></td><td>TransactionID of the sale transaction to be voided</td></tr><tr><td><code>options</code> <br><em>Options</em></td><td>An object to store all the customization options for this operation.</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//If you just need a plain vanilla sale reversal:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api saleReversalWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                   currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              transactionId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">originalTransactionID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//But you can customize your reversal:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Options </span><span class="token operator">*</span><span class="token plain">options </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Options new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customerReference </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;Your customer reference&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api saleReversalWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                   currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              transactionId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError </strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#16"><strong>responseFinanceStatus</strong></a></p><p>Invoked when the payment terminal finishes processing the transaction.</p><hr><p><strong>Returns</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>YES</code> if operation starts successfully.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5">Refund<a class="hash-link" href="#5" title="Direct link to heading">​</a></h2><p><code>refundWithAmount</code> <span class="badge badge--info">Method</span></p><p>A refund initiates a refund operation with the payment terminal. This operation moves funds from the merchant account to the cardholder&#x27;s card.</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>amount</code> <span class="badge badge--primary">Required</span>  <br><em>NSInteger</em></td><td>Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)</td></tr><tr><td><code>currency</code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>Currency of the charge</td></tr><tr><td><code>transaction</code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>If present it links the refund with a previous sale. It effectively limits the maximum amount refunded to that of the original transaction.</td></tr><tr><td><code>options</code> <br><em>MerchantAuthOptions</em></td><td>An object to store all the customization options for a refund.</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//If you just need a plain vanilla refund:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api refundWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">             currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          transaction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//But you can customize your sale:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MerchantAuthOptions </span><span class="token operator">*</span><span class="token plain">options </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">MerchantAuthOptions new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customerReference </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;Your customer reference&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//If you need Multi MID / Custom merchant Authentication:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MerchantAuth </span><span class="token operator">*</span><span class="token plain">auth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">MerchantAuth new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Credential </span><span class="token operator">*</span><span class="token plain">cred </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Credential new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">acquirer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Credential getAcquirerFromString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;acquirer&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">mid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;mid&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;tid&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Add as many credentials as Acquirers your merchant have agreements with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">auth add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">cred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">merchantAuth </span><span class="token operator">=</span><span class="token plain"> auth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api refundWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">             currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          transaction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong> Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError</strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#16"><strong>responseFinanceStatus</strong></a></p><p>Invoked when the payment terminal finishes processing the transaction.</p><hr><p><strong>Returns</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>YES</code> if operation starts successfully.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6">Refund reversal<a class="hash-link" href="#6" title="Direct link to heading">​</a></h2><p><code>refundVoidWithAmount</code> <span class="badge badge--info">Method</span></p><p>Request a void of a previous refund transaction. Amount, currency and transactionID of the original refund must be sent as parameters. This operation reverts (if possible) a specific refund identified with a transaction id. Note that transactions can only be reversed the same day as when the transaction was made.</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>amount</code> <span class="badge badge--primary">Required</span>  <br><em>NSInteger</em></td><td>Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)</td></tr><tr><td><code>currency</code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>3 letter currency code in accordance to ISO4217</td></tr><tr><td><code>transaction</code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>TransactionID of the refund transaction to be voided</td></tr><tr><td><code>options</code> <br><em>Options</em></td><td>An object to store all the customization options for this operation.</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//If you just need a plain vanilla refund reversal:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api refundReversalWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">               transactionId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">originalTransactionID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                     options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//But you can customize your sale:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Options </span><span class="token operator">*</span><span class="token plain">options </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Options new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Optionally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customerReference </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;Your customer reference&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">api refundReversalWithAmount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                     currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">Currency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EUR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">alpha</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                transactionId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong> Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError</strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#16"><strong>responseFinanceStatus</strong></a></p><p>Invoked when the payment terminal finishes processing the transaction.</p><hr><p><strong>Returns</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>YES</code> if the operation was successfully sent to device.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="10">Tokenize Card<a class="hash-link" href="#10" title="Direct link to heading">​</a></h2><p><code>tokenizeCard</code> <span class="badge badge--info">Method</span></p><p>Initiates a card tokenization operation with the payment terminal (not available for all acquirers, please check with Handpoint to know if tokenization is supported for your acquirer of choice).</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>reference</code> <span class="badge badge--primary">Required</span>  <br><em>NSString</em></td><td>string for customer reference</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//Initiates a card tokenization operation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">heftClient tokenizeCard</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong> Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError</strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#17"><strong>requestSignature</strong></a></p><p>Invoked if card verification requires signature.</p><hr><p><a href="/ios/next/iosevents#44"><strong>responseRecoveredTransactionStatus</strong></a></p><p>Invoked when the card reader finishes processing the transaction.</p><hr><p><strong>Returns</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>YES</code> if operation starts successfully.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7">Accept signature<a class="hash-link" href="#7" title="Direct link to heading">​</a></h2><p><code>acceptSignature</code> <span class="badge badge--info">Method</span></p><p>A <a href="/ios/next/iosevents#17"><em>requestSignature</em></a> event is invoked during a transaction if signature verification is needed. The merchant is required to ask the cardholder for signature and approve (or decline) the signature. signatureRequired lets the payment terminal know if the signature was approved (by passing YES to the function) or declined by the merchant (by passing NO to the function).</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>flag</code> <span class="badge badge--primary">Required</span>  <br><em>Boolean</em></td><td>YES if signature is valid, NO otherwise</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//acceptSignature:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Inform the card reader if signature is valid or not</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">IBAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">accept</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">heftClient acceptSignature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">YES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">IBAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">decline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">heftClient acceptSignature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">NO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong> Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError</strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#16"><strong>responseFinanceStatus</strong></a></p><p>Invoked when the payment terminal finishes processing the transaction.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="8">Retrieve Pending Transaction<a class="hash-link" href="#8" title="Direct link to heading">​</a></h2><p><code>retrievePendingTransaction</code> <span class="badge badge--info">Method</span></p><p>Retrieving a pending transaction fetches a transaction result that was lost due to an unexpected disconnection between the payment terminal and the associated application.</p><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//retrievePendingTransaction:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Called when a pending transaction is discovered upon connecting to a specific card reader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">didConnect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token operator">&lt;</span><span class="token plain">HeftClient</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    heftClient </span><span class="token operator">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">heftClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">heftClient isTransactionResultPending</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// a pending transaction has been detected ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// ... so, lets get it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">heftClient retrievePendingTransaction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong> Events invoked</strong></p><p><a href="/ios/next/iosevents#14"><strong>responseStatus</strong></a></p><p>Invoked during a transaction with different statuses from the payment terminal.</p><hr><p><a href="/ios/next/iosevents#15"><strong>responseError</strong></a></p><p>Invoked when an error response happens.</p><hr><p><a href="/ios/next/iosevents#44"><strong>responseRecoveredTransactionStatus</strong></a></p><p>Invoked when the card reader has returned a recovered transaction.</p><hr><p><strong>Returns</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>YES</code> if operation starts successfully.</td></tr></tbody></table><br><p><strong>Notes</strong></p><p><strong><em>On starting a new transaction</em></strong></p><p>If a new transaction is started without fetching first a pending transaction result, then the pending transaction result will be discarded.</p><hr><p><strong><em>User notifications while a transaction result is pending</em></strong></p><p>The payment terminal will not give any visible indication that a transaction result is pending.</p><hr><p><strong><em>User notifications when fetching a pending transaction result</em></strong></p><p>The payment terminal will briefly display a message when a pending transaction result is recovered.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="9">Tip Adjustment<a class="hash-link" href="#9" title="Direct link to heading">​</a></h2><p><code>tipAdjustment</code> <span class="badge badge--info">Method</span></p><p>A tip adjustment operation allows merchants to adjust the tip amount of a sale transaction before the batch of transactions is settled by the processor at the end of the day.
The tip adjustment method does not rely on a card reader and is therefore a separate method that must be initialized with a shared secret. The function is defined in the file HapiRemoteService.h
Note: This functionality is only available for the restaurant industry in the United States and the processors currently supporting this functionality are TSYS and VANTIV. This functionality is limited to HiLite terminals.</p><p><strong>Parameters</strong></p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><code>tipAmount</code> <span class="badge badge--primary">Required</span>  <br><em>NSInteger</em></td><td>Tip amount added to the original (base) transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)</td></tr><tr><td><code>transaction</code> <span class="badge badge--primary">Required</span> <br><em>NSString</em></td><td>TransactionID (GUID) of the original sale transaction to be adjusted</td></tr></tbody></table><p><strong>Code example</strong></p><div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//First, you need to include the following dependency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&quot;HapiRemoteService.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Second, the shared secret needs to be initialized</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">NSString</span><span class="token operator">*</span><span class="token plain"> shared_secret </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;0102030405060708091011121314151617181920212223242526272829303132&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">BOOL result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setupHandpointApiConnection</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">shared_secret</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Third, you need to retrieve the unique transaction id of the original sale transaction you want to adjust. The below GUID is only an example and will result in a decline from the host if used for tip adjustment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">NSString</span><span class="token operator">*</span><span class="token plain"> transaction </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">@&quot;d50af540-a1b0-11e6-85e6-07b2a5f091ec&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//Fourth, let&#x27;s tip adjust a transaction for $10.00!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">IBAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">tipAdjustment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">UIButton</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sender</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    BOOL result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">tipAdjustment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">transaction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">^</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">TipAdjustmentStatus status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">status </span><span class="token operator">==</span><span class="token plain"> TipAdjustmentAuthorised</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">//Successfully adjusted!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">status </span><span class="token operator">==</span><span class="token plain"> TipAdjustmentDeclined</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">//Declined!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">status </span><span class="token operator">==</span><span class="token plain"> TipAdjustmentFailed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">//Timeout!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Returns</strong></p><p>Result of the tip adjustment transaction, possible values :</p><table><thead><tr><th>Parameter</th><th>Notes</th></tr></thead><tbody><tr><td><strong>status</strong></td><td>- <strong>TipAdjustmentAuthorised</strong> (tip adjustment approved by the processor) <br>- <strong>TipAdjustmentFailed</strong> (system error or timeout) <br> - <strong>TipAdjustmentDeclined</strong> (tip adjustment declined by the processor)</td></tr></tbody></table><p>If two tip adjustments are sent for the same sale transaction, the second tip adjustment will override the first one. In case the transaction fails (not declined) we recommend that you prompt the user of the POS to retry the adjustment.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/ios/next/iossdkprocessing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Integration Example</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ios/next/iosdevicemanagement"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Terminal Management</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#2" class="table-of-contents__link toc-highlight">Sale</a></li><li><a href="#4" class="table-of-contents__link toc-highlight">Sale And Tokenize Card</a></li><li><a href="#3" class="table-of-contents__link toc-highlight">Sale Reversal</a></li><li><a href="#5" class="table-of-contents__link toc-highlight">Refund</a></li><li><a href="#6" class="table-of-contents__link toc-highlight">Refund reversal</a></li><li><a href="#10" class="table-of-contents__link toc-highlight">Tokenize Card</a></li><li><a href="#7" class="table-of-contents__link toc-highlight">Accept signature</a></li><li><a href="#8" class="table-of-contents__link toc-highlight">Retrieve Pending Transaction</a></li><li><a href="#9" class="table-of-contents__link toc-highlight">Tip Adjustment</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cpdocs/index.html">In-Person Payments Docs</a></li><li class="footer__item"><a href="https://developer-ecomm.handpoint.io/cnpdocs/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Online Payments Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://txnfeedapi.handpoint.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Transaction Analytics API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tmsdoc.handpoint.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Merchants &amp; Terminals Management API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.handpoint.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/handpointltd?lang=en" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Get our Apps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.google.com/store/apps/details?id=com.handpoint.hipos&amp;hl=en&amp;gl=US&amp;pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get it on Google Play<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://apps.apple.com/us/app/handpoint/id1450546788?itsct=apps_box_link&amp;itscg=30200" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download on the App Store<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.handpoint.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Status Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.atlassian.net/wiki/spaces/PD/overview?homepageId=5898250" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.us6.list-manage.com/subscribe?u=4d9dff9e7edb7e57a67a7b252&amp;id=0a2179241e" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to the Handpoint Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.handpoint.io" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2025 Handpoint</div></div></div></footer></div>
<script src="/assets/js/runtime~main.12f25c84.js"></script>
<script src="/assets/js/main.1bc9b849.js"></script>
</body>
</html>