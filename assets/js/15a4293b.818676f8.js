"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2638],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},32478:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:1,id:"restintroduction"},i="Introduction",s={unversionedId:"restintroduction",id:"version-REST API 2.17.0/restintroduction",title:"Introduction",description:"Use the Handpoint REST API to integrate leading smartpos terminals with your software. The Handpoint REST API is a simple REST interface that acts as a bridge between your software and the payment terminal , while shielding your software from unmasked card data. It is seamless to integrate, keeps you out of PCI scope, works with every platform, and lets you use the best Android terminals on the market.",source:"@site/restapi_versioned_docs/version-REST API 2.17.0/restintroduction.md",sourceDirName:".",slug:"/restintroduction",permalink:"/restapi/REST API 2.17.0/restintroduction",draft:!1,tags:[],version:"REST API 2.17.0",sidebarPosition:1,frontMatter:{sidebar_position:1,id:"restintroduction"},sidebar:"tutorialSidebar",next:{title:"Release Notes",permalink:"/restapi/REST API 2.17.0/restreleasenotes"}},l={},p=[{value:"API Overview",id:"api-overview",level:2},{value:"Transaction flow",id:"transaction-flow",level:2}],c={toc:p};function d(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"Use the Handpoint REST API to integrate leading smartpos terminals with your software. The Handpoint REST API is a simple REST interface that acts as a bridge between ",(0,a.kt)("strong",{parentName:"p"},"your software and the payment terminal")," , while shielding your software from unmasked card data. It is seamless to integrate, keeps you out of PCI scope, works with every platform, and lets you use the best Android terminals on the market."),(0,a.kt)("p",null,"Complete your integration in just three steps: Initiate the interface, choose the terminal, and start the sale. It is as simple as it sounds. The only thing you need is a valid API key to authenticate against the API. Simply execute the financial operation, and within seconds you\u2019ll get back the transaction result and receipts in your software. The Handpoint REST API seamlessly starts and manages the entire point to point encrypted transaction with the payment terminal, minimizing hassle for you and maximizing reliability, security, and control."),(0,a.kt)("h2",{id:"api-overview"},"API Overview"),(0,a.kt)("p",null,"When integrating with the Handpoint REST API, there are 2 possible transaction flows in order to get back the transaction result from the payment terminal to your application: "),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Run a server to receive the transaction result"),". In this scenario you will need to specify a callback URL in the transaction request. At the end of the transaction, the payment terminal will send back the transaction result to the specified callback URL. ")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Query an endpoint provided by Handpoint"),". In this scenario a transaction result id is delivered immediately to your application as a response to the transaction request. In order to retrieve the transaction result, a specific API endpoint needs to be queried with the transaction id once the financial operation is completed on the payment terminal. "))),(0,a.kt)("h2",{id:"transaction-flow"},"Transaction flow"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("ol",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Pre-requisite: request your test credentials (API key) and a payment terminal from Handpoint. ")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"ensure you are targeting the correct environment. If your payment terminal is a ",(0,a.kt)("strong",{parentName:"p"},"debug")," terminal then the development environment (.io) needs to be targeted. If your payment terminal is a ",(0,a.kt)("strong",{parentName:"p"},"demo")," terminal or a ",(0,a.kt)("strong",{parentName:"p"},"production")," terminal then the production environment (.com) needs to be targeted. Demo terminals are production terminals linked to a mock acquirer so ",(0,a.kt)("strong",{parentName:"p"},"funds are not moved"),". To check if you should be using the production or the development environment you can refer to this guide: ",(0,a.kt)("a",{parentName:"p",href:"https://hndpt.co/39utmzi"},'"How do I know what type of card reader I have?"')))),(0,a.kt)("p",{parentName:"admonition"},"\u2003\u2003",(0,a.kt)("strong",{parentName:"p"},"For production terminals the endpoint to target is:")," ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.handpoint.com/"},"https://cloud.handpoint.com/")),(0,a.kt)("p",{parentName:"admonition"},"\u2003\u2003",(0,a.kt)("strong",{parentName:"p"},"For debug terminals the endpoint to target is:")," ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.handpoint.io/"},"https://cloud.handpoint.io/"))),(0,a.kt)("p",null,"The following flow shows the interactions between your application and the Handpoint REST API:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"1)")," Initialize your interface with the API key and receive the list of payment terminals available to perform a financial operation. Each API key is unique per merchant and needs to be configurable in your backend. Select a payment terminal and send a POST ",(0,a.kt)("a",{parentName:"p",href:"/restapi/next/restobjects#transaction-request-object"},"transaction request")," to the REST API."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"2)"),' The API will validate the request body and will immediately respond back to your software with the response code 202 ("Accepted\u201d) to confirm that the data has been correctly forwarded to the payment terminal. Depending on your request body, a transactionResultId might be returned by the Handpoint API at this step (see 4.2 below).'),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"3)")," The validated transaction request object is forwarded to the payment terminal and the transaction starts."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"4.1) If the original transaction request contains a callbackUrl and token")," , the ",(0,a.kt)("a",{parentName:"p",href:"/restapi/next/restobjects#transaction-result-object"},"transaction result")," will be sent back from the payment terminal to your software by using the callbackUrl. The token is a unique value generated by your software, it will be echoed in the custom HTTP header called AUTH-TOKEN of the transaction result sent by the terminal to your server. We recommend to use the token in order to authenticate the messages hitting your endpoint. The terminal expects a response back from your server when you receive the transaction result, 2XXs http response codes from the callbackUrl are considered as valid by the payment terminal to acknowledge a successful delivery of the transaction result. ",(0,a.kt)("strong",{parentName:"p"},"See figure 4.1 below"),". "),(0,a.kt)("admonition",{type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"If you're going to use ",(0,a.kt)("strong",{parentName:"p"},"4.1"),", make sure to use an ssl certificate whose certification authority is supported by the versions of Android running on the payment terminals (Android versions vary between Android 5 and Android 10 depending on the terminal model) ")),(0,a.kt)("p",null," ",(0,a.kt)("strong",{parentName:"p"},"4.2) If the original transaction request does not contain a callbackUrl and token")," , the ",(0,a.kt)("a",{parentName:"p",href:"/restapi/next/restobjects#transaction-result-object"},"transaction result")," is sent back from the terminal to Handpoint's REST-API. The transaction result can then be retrieved from the endpoint GET ",(0,a.kt)("a",{parentName:"p",href:"restendpoints#transaction-resulttransactionresultid"},"transaction-result/{transactionResultId}")," where the transactionResultId (also called cloud transaction identifier) is found in the immediate answer from the initial transaction request POST to the REST-API (see step 2). ",(0,a.kt)("strong",{parentName:"p"},"See figure 4.2 below"),". "),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Sandbox logo",src:n(2247).Z,width:"1124",height:"862"})))}d.isMDXComponent=!0},2247:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/RestApiDiagram-a3a9124e52f7ebc40bd6099852c05e19.bin"}}]);