"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5452],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(n),d=a,f=m["".concat(c,".").concat(d)]||m[d]||u[d]||o;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5546:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:3,id:"iosmigration"},i="Migration from 3.X",s={unversionedId:"iosmigration",id:"version-iOS SDK 4.0.2/iosmigration",title:"Migration from 3.X",description:"Version 4.0.0 introduces a well defined, typed, way of passing extra values, options, parameters or flags to the financial transactions.",source:"@site/ios_versioned_docs/version-iOS SDK 4.0.2/iosmigration.md",sourceDirName:".",slug:"/iosmigration",permalink:"/ios/iosmigration",draft:!1,tags:[],version:"iOS SDK 4.0.2",sidebarPosition:3,frontMatter:{sidebar_position:3,id:"iosmigration"},sidebar:"tutorialSidebar",previous:{title:"Release Notes",permalink:"/ios/iosreleasenotes"},next:{title:"Trigger Amounts",permalink:"/ios/iosprocessing"}},c={},l=[],p={toc:l};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"migration-from-3x"},"Migration from 3.X"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Version 4.0.0 introduces a well defined, typed, way of passing extra values, options, parameters or flags to the financial transactions.")),(0,a.kt)("p",null,"We have unified all the extra and optional parameters in an Options object. Different operations have different options."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"1. For a ",(0,a.kt)("a",{parentName:"strong",href:"/ios/next/iostransactions#2"},"Sale")," or ",(0,a.kt)("a",{parentName:"strong",href:"/ios/next/iostransactions#4"},"Sale and Tokenize")," operation"),(0,a.kt)("br",null),"If you use a customer reference:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'    SaleOptions *options = [SaleOptions new];\n    options.customerReference = @"Your customer reference";\n')),(0,a.kt)("p",null,"If you need Multi MID / Custom merchant Authentication:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},'    MerchantAuth *auth = [MerchantAuth new];\n    Credential *cred = [Credential new];\n    //Optionally\n    cred.acquirer = [Credential getAcquirerFromString:@"acquirer"];\n    //Optionally\n    cred.mid = @"mid";\n    //Optionally\n    cred.tid = @"tid";\n    //Add as many credentials as Acquirers your merchant have agreements with\n    [auth add:cred];\n    options.merchantAuth = auth;\n')),(0,a.kt)("p",null,"If you want to specify the budget period Only available for ",(0,a.kt)("inlineCode",{parentName:"p"},"SureSwipe/Altech")," (South Africa):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},'options.divideByMonths = @"YOUR_BUDGET_NUMBER";\n')),(0,a.kt)("p",null,"Finally:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},"[self.api saleWithAmount:amount currency:currency options:options];\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"2. for a ",(0,a.kt)("a",{parentName:"strong",href:"/ios/next/iostransactions#5"},"Refund")," operation (less optional parameters)"),(0,a.kt)("br",null),"If you use a customer reference:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},'    SaleOptions *options = [SaleOptions new];\n    options.customerReference = @"Your customer reference";\n')),(0,a.kt)("p",null,"If you need Multi MID / Custom merchant Authentication:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},'MerchantAuth *auth = [MerchantAuth new];\n    Credential *cred = [Credential new];\n    //Optionally\n    cred.acquirer = [Credential getAcquirerFromString:@"acquirer"];\n    //Optionally\n    cred.mid = @"mid";\n    //Optionally\n    cred.tid = @"tid";\n    //Add as many credentials as Acquirers your merchant have agreements with\n    [auth add:cred];\n    options.merchantAuth = auth;\n')),(0,a.kt)("p",null,"Finally:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},"[self.api refundWithAmount:amount currency:currency transaction:originalTransactionID options:options];\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"3. For the rest of operations"),(0,a.kt)("br",null),"If you use a customer reference:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},'options.customerReference = @"Your customer reference";\n')))}u.isMDXComponent=!0}}]);