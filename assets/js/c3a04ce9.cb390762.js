"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[94523],{3905:(t,e,a)=>{a.d(e,{Zo:()=>d,kt:()=>u});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var o=n.createContext({}),p=function(t){var e=n.useContext(o),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},d=function(t){var e=p(t.components);return n.createElement(o.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},k=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,i=t.originalType,o=t.parentName,d=s(t,["components","mdxType","originalType","parentName"]),k=p(a),u=r,c=k["".concat(o,".").concat(u)]||k[u]||m[u]||i;return a?n.createElement(c,l(l({ref:e},d),{},{components:a})):n.createElement(c,l({ref:e},d))}));function u(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=a.length,l=new Array(i);l[0]=k;var s={};for(var o in e)hasOwnProperty.call(e,o)&&(s[o]=e[o]);s.originalType=t,s.mdxType="string"==typeof t?t:r,l[1]=s;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},34099:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const i={sidebar_position:5,id:"windowstransactions"},l="Transaction Types",s={unversionedId:"windowstransactions",id:"version-Windows SDK 3.2.4/windowstransactions",title:"Transaction Types",description:"Sale",source:"@site/windows_versioned_docs/version-Windows SDK 3.2.4/windowstransactions.md",sourceDirName:".",slug:"/windowstransactions",permalink:"/windows/Windows SDK 3.2.4/windowstransactions",draft:!1,tags:[],version:"Windows SDK 3.2.4",sidebarPosition:5,frontMatter:{sidebar_position:5,id:"windowstransactions"},sidebar:"tutorialSidebar",previous:{title:"Integration Guides",permalink:"/windows/Windows SDK 3.2.4/windowsintegrationguide"},next:{title:"Terminal Management",permalink:"/windows/Windows SDK 3.2.4/windowsdevicemanagement"}},o={},p=[{value:"Sale",id:"sale",level:2},{value:"Parameters",id:"parameters",level:4},{value:"Events invoked",id:"events-invoked",level:4},{value:"Sale And Tokenize Card",id:"sale-and-tokenize-card",level:2},{value:"Parameters",id:"parameters-1",level:4},{value:"Events invoked",id:"events-invoked-1",level:4},{value:"Sale Reversal",id:"sale-reversal",level:2},{value:"Parameters",id:"parameters-2",level:4},{value:"Events invoked",id:"events-invoked-2",level:4},{value:"Refund",id:"refund",level:2},{value:"Parameters",id:"parameters-3",level:4},{value:"Events invoked",id:"events-invoked-3",level:4},{value:"Refund Reversal",id:"refund-reversal",level:2},{value:"Parameters",id:"parameters-4",level:4},{value:"Events invoked",id:"events-invoked-4",level:4},{value:"MoTo Sale",id:"moto-sale",level:2},{value:"Parameters",id:"parameters-5",level:4},{value:"Events invoked",id:"events-invoked-5",level:4},{value:"MoTo Refund",id:"moto-refund",level:2},{value:"Parameters",id:"parameters-6",level:4},{value:"Events invoked",id:"events-invoked-6",level:4},{value:"MoTo Reversal",id:"moto-reversal",level:2},{value:"Parameters",id:"parameters-7",level:4},{value:"Events invoked",id:"events-invoked-7",level:4},{value:"Print Receipt",id:"print-receipt",level:2},{value:"Parameters",id:"parameters-8",level:4},{value:"Signature Result",id:"signature-result",level:2},{value:"Parameters",id:"parameters-9",level:4},{value:"Events invoked",id:"events-invoked-8",level:4},{value:"Tip Adjustment",id:"tip-adjustment",level:2},{value:"Parameters",id:"parameters-10",level:4},{value:"Tokenize Card",id:"tokenize-card",level:2},{value:"Parameters",id:"parameters-11",level:4},{value:"Events invoked",id:"events-invoked-9",level:4},{value:"Stop Current Transaction",id:"stop-current-transaction",level:2},{value:"Events invoked",id:"events-invoked-10",level:4}],d={toc:p};function m(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"transaction-types"},"Transaction Types"),(0,r.kt)("h2",{id:"sale"},"Sale"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Sale")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A sale initiates a transaction with the payment terminal. In it's simplest form you only have to pass the ",(0,r.kt)("strong",{parentName:"p"},"amount")," and ",(0,r.kt)("strong",{parentName:"p"},"currency")," but it also accepts a map with optional parameters."),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("a",{parentName:"td",href:"/windows/next/windowobjects#1"},(0,r.kt)("em",{parentName:"a"},"Currency"))),(0,r.kt)("td",{parentName:"tr",align:null},"Currency of the transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"/windows/next/windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Basic\nthis.Hapi.Sale(new BigInteger("1000"), Currency.EUR);\n\n// With options\nDictionary dic = new Dictionary();\ndic.Add(XmlTag.CustomerReference.Tag(), "YourCustomerReference");\n\nthis.Hapi.Sale(new BigInteger("1000"), Currency.EUR, dic);\n')),(0,r.kt)("h4",{id:"events-invoked"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))," "),(0,r.kt)("p",null,"This event gets statuses from the payment terminal during the transaction, for example: 'waiting for card' or 'waiting for PIN entry'"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#5"},(0,r.kt)("em",{parentName:"a"},"signatureRequired")))),(0,r.kt)("p",null,"This event is invoked if the card issuer requires the cardholder to sign the transaction receipt."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null," ",(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))),(0,r.kt)("h2",{id:"sale-and-tokenize-card"},"Sale And Tokenize Card"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SaleAndTokenizeCard")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A sale operation which also returns a card token. This functionality is not available for all acquirers, please check with Handpoint to know if tokenization is supported for your acquirer of choice."),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("a",{parentName:"td",href:"/windows/next/windowobjects#1"},(0,r.kt)("em",{parentName:"a"},"Currency"))),(0,r.kt)("td",{parentName:"tr",align:null},"Currency of the transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a sale for 10.00 in Great British Pounds\napi.SaleAndTokenizeCard(new BigInteger("1000"),Currency.GBP);\n')),(0,r.kt)("h4",{id:"events-invoked-1"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment terminal during the transaction, for example: 'waiting for card' or 'waiting for PIN entry'"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#5"},(0,r.kt)("em",{parentName:"a"},"signatureRequired")))),(0,r.kt)("p",null,"This event is invoked if the card issuer requires the cardholder to sign the transaction receipt."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))),(0,r.kt)("h2",{id:"sale-reversal"},"Sale Reversal"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SaleReversal")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A sale reversal, also called sale VOID allows the user to reverse a previous sale operation. This operation reverts (if possible) a specific sale identified with a transaction id. In its simplest form you only have to pass the amount, currency and originalTransactionID but it also accepts a map with optional parameters. Note that transactions can only be reversed within a 24 hours timeframe or until the daily batch of transactions has been sent for submission."),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("a",{parentName:"td",href:"/windows/next/windowobjects#1"},(0,r.kt)("em",{parentName:"a"},"Currency"))),(0,r.kt)("td",{parentName:"tr",align:null},"Currency of the transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"originalTransactionID")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Id of the original sale transaction (EFTTransactionID)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a reversal for 10.00 Pounds\napi.SaleReversal(new BigInteger(1000),Currency.GBP,"00000000-0000-0000-0000-000000000000");\n')),(0,r.kt)("h4",{id:"events-invoked-2"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#5"},(0,r.kt)("em",{parentName:"a"},"signatureRequired")))),(0,r.kt)("p",null,"This event is invoked if the card issuer requires the cardholder to sign the transaction receipt."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))),(0,r.kt)("h2",{id:"refund"},"Refund"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Refund")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A refund operation moves funds from the merchant account to the cardholder\xb4s credit card. In it's simplest form you only have to pass the amount and currency but it also accepts a map with optional parameters. Note that a card is required to be swiped, dipped or tapped for this operation. For Interac (Canadian Debit Network), refunds can only be processed until Interac closes the batch of transactions at night."),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("a",{parentName:"td",href:"/windows/next/windowobjects#1"},(0,r.kt)("em",{parentName:"a"},"Currency"))),(0,r.kt)("td",{parentName:"tr",align:null},"Currency of the transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"originalTransactionID"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Id of the original sale transaction (EFTTransactionID)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a refund for 10.00 in Great British Pounds\napi.Refund(new BigInteger(1000),Currency.GBP,"00000000-0000-0000-0000-000000000000");\n')),(0,r.kt)("h4",{id:"events-invoked-3"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))," "),(0,r.kt)("p",null,"This event gets statuses from the payment terminal during the transaction, for example: 'waiting for card' or 'waiting for PIN entry'"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#5"},(0,r.kt)("em",{parentName:"a"},"signatureRequired")))," "),(0,r.kt)("p",null,"This event is invoked if the card issuer requires the cardholder to sign the transaction receipt."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))),(0,r.kt)("h2",{id:"refund-reversal"},"Refund Reversal"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"RefundReversal")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A Refund Reversal, also called Refund VOID allows the merchant to reverse a previous refund operation. This operation reverts (if possible) a specific refund identified with a transaction id. In its simplest form you only have to pass the amount, currency and originalTransactionID but it also accepts a map with optional parameters. Note that transactions can only be reversed within the same day as the transaction was made."),(0,r.kt)("h4",{id:"parameters-4"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("a",{parentName:"td",href:"/windows/next/windowobjects#1"},(0,r.kt)("em",{parentName:"a"},"Currency"))),(0,r.kt)("td",{parentName:"tr",align:null},"Currency of the transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"originalTransactionID")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Id of the original refund transaction (EFTTransactionID)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a refund reversal for 10.00 in Great British Pounds\napi.RefundReversal(new BigInteger(1000),Currency.GBP,"00000000-0000-0000-0000-000000000000");\n')),(0,r.kt)("h4",{id:"events-invoked-4"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment terminal during the transaction, for example: 'waiting for card' or 'waiting for PIN entry'"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#5"},(0,r.kt)("em",{parentName:"a"},"signatureRequired")))),(0,r.kt)("p",null,"This event is invoked if the card issuer requires the cardholder to sign the transaction receipt."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))),(0,r.kt)("h2",{id:"moto-sale"},"MoTo Sale"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"moToSale")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"Mail Order /Telephone Order (MOTO) sale. MOTO is a type of card-not-present (CNP) transaction in which services are paid and delivered via telephone, mail, fax, or internet communication. MOTO has become synonymous with any financial transaction where the entity taking payment does not physically see the card used to make the purchase."),(0,r.kt)("h4",{id:"parameters-5"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Currency of the transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Basic\nthis.Hapi.MotoSale(new BigInteger("1000"), Currency.EUR);\n\n// With options\nDictionary dic = new Dictionary();\ndic.Add(XmlTag.CustomerReference.Tag(), "YourCustomerReference");\n\nthis.Hapi.MotoSale(new BigInteger("1000"), Currency.EUR, dic);\n')),(0,r.kt)("h4",{id:"events-invoked-5"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment SDK during the transaction, for example 'processing'."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the gateway")))),(0,r.kt)("h2",{id:"moto-refund"},"MoTo Refund"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"moToRefund")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A MOTO refund operation moves funds from the merchant account to the cardholder\xb4s credit card. In it's simplest form you only have to pass the amount and currency but it also accepts the original transaction id. MOTO Refund is a type of card-not-present (CNP) transaction in which services are refunded via telephone, mail, fax, or internet communication. MOTO has become synonymous with any financial transaction where the entity taking payment does not physically see the card used to make the purchase or refund."),(0,r.kt)("h4",{id:"parameters-6"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),"v",(0,r.kt)("em",{parentName:"td"},"Currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Currency of the transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"originalTransactionId"),(0,r.kt)("br",null)," ",(0,r.kt)("em",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"If present it links the refund with a previous sale. It effectively limits the maximum amount refunded to that of the original transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'this.Hapi.MotoRefund(new BigInteger(1000), Currency.EUR);\n\nthis.Hapi.MotoRefund(new BigInteger(1000), Currency.EUR, "00000000-0000-0000-0000-000000000000");\n')),(0,r.kt)("h4",{id:"events-invoked-6"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment SDK during the transaction, for example 'processing'."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the gateway")))),(0,r.kt)("h2",{id:"moto-reversal"},"MoTo Reversal"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"moToReversal")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A MOTO reversal, also called VOID allows the user to reverse a previous sale/refund operation. This operation reverts (if possible) a specific operation identified with a transaction id. Note that transactions can only be reversed within a 24 hours timeframe or until the daily batch of transactions has been sent for submission. MOTO Reversal is a type of card-not-present (CNP) transaction used to reverse a previous MOTO Sale or MOTO Refund."),(0,r.kt)("h4",{id:"parameters-7"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"originalTransactionId")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null)," ",(0,r.kt)("em",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Id of the original sale transaction.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including optional transaction parameters")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'this.Hapi.MotoReversal("00000000-0000-0000-0000-000000000000");\n')),(0,r.kt)("h4",{id:"events-invoked-7"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment SDK during the transaction, for example 'processing'."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the gateway")))),(0,r.kt)("h2",{id:"print-receipt"},"Print Receipt"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"PrintReceipt")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"Print on demand functionality allowing the merchant to print any HTML formatted receipt. It is possible to print images or barcodes as well as passing directly a URL to the printReceipt function. A bitmap can also be printed, in order to do so it needs to be rendered as an image and inserted into the html."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The receipts are usually received as URLs in the transaction result from the terminal but note that if the terminal is not able to upload the receipt to the Handpoint cloud servers and generate a URL then the HTML formatted receipt will be delivered to your software. It is important to be able to manage both formats. ")),(0,r.kt)("h4",{id:"parameters-8"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"receipt")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"HTML receipt or url to locate the receipt, it can be found in the response of a financial operation, in the fields merchantReceipt or customerReceipt. The receipt must match the following ",(0,r.kt)("a",{parentName:"td",href:"https://handpoint.atlassian.net/wiki/spaces/PD/pages/1409875969/Html+Print+Format"},"HTML Print Format"))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// string validReceipt = '...';\nbool success = api.PrintReceipt(validReceipt);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the receipt was sent to the printer, false otherwise")))),(0,r.kt)("h2",{id:"signature-result"},"Signature Result"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SignatureResult")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A signatureRequired event is invoked during a transaction when a signature verification is required, for example when a payment is done with a swiped or chip and signature card. The merchant is required to ask the cardholder for signature and approve (or decline) the transaction. signatureResult tells the payment terminal if the signature was approved by passing the value true in the method. To decline a signature event then false should be passed to the payment terminal. Note that this event is only required for an HiLite integration and can be safely ignored for a PAX or Telpo integration."),(0,r.kt)("h4",{id:"parameters-9"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"accepted")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required"),(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"pass true if merchant accepts customer signature")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"//Receiving a SignatureRequest from the SDK.\npublic void SignatureRequired(SignatureRequest signatureRequest, Device device)\n{\n    //If you accept the signature\n    api.SignatureResult(true);\n}\n")),(0,r.kt)("h4",{id:"events-invoked-8"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment terminal during the transaction, for example: 'waiting for card' or 'waiting for PIN entry'"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))),(0,r.kt)("h2",{id:"tip-adjustment"},"Tip Adjustment"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"TipAdjustment")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"A tip adjustment operation allows merchants to adjust the tip amount of a sale transaction before the batch of transactions is settled by the processor at the end of the day.\nNote: This functionality is only available for the restaurant industry in the United States and the processors currently supporting this functionality are TSYS and VANTIV. This functionality is limited to HiLite terminals."),(0,r.kt)("h4",{id:"parameters-10"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tipAmount")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"BigInteger")),(0,r.kt)("td",{parentName:"tr",align:null},"Tip amount added to the original (base) transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"originalTransactionID")," ",(0,r.kt)("span",{class:"badge badge--primary"},"Required")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Id of the original sale transaction (EFTTransactionID)")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a tip adjustment for $10.00\nTask<FinancialStatus> result = hapi.TipAdjustment(BigInteger.Parse("1000"), "2bc23910-c3b3-11e6-9e62-07b2a5f091ec");\nFinancialStatus status = result.Result;\nif (status != FinancialStatus.FAILED)\n{\n    if (status == FinancialStatus.AUTHORISED)\n    {\n        //Success!\n    }\n    else\n    {\n        //Declined\n    }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("p",null,"Result of the tip adjustment transaction, this is an asynchronous method that returns a task called ",(0,r.kt)("inlineCode",{parentName:"p"},"<FinancialStatus>"),", the possible values are :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"FinancialStatus")),(0,r.kt)("td",{parentName:"tr",align:null},"- ",(0,r.kt)("strong",{parentName:"td"},"FinancialStatus.AUTHORISED")," (tip adjustment approved by the processor) ",(0,r.kt)("br",null),"- ",(0,r.kt)("strong",{parentName:"td"},"FinancialStatus.FAILED")," (system error or timeout) ",(0,r.kt)("br",null),"- ",(0,r.kt)("strong",{parentName:"td"},"FinancialStatus.DECLINED")," (tip adjustment declined by the processor)")))),(0,r.kt)("p",null,"If two tip adjustments are sent for the same sale transaction, the second tip adjustment will override the first one. In case the transaction fails (not declined) we recommend that you prompt the user of the POS to retry the adjustment."),(0,r.kt)("h2",{id:"tokenize-card"},"Tokenize Card"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"TokenizeCard")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"Returns a card token (representing the card number). This functionality is not available for all acquirers, please check with Handpoint to know if tokenization is supported for your acquirer of choice. "),(0,r.kt)("h4",{id:"parameters-11"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"map")," ",(0,r.kt)("br",null),(0,r.kt)("em",{parentName:"td"},"Map")),(0,r.kt)("td",{parentName:"tr",align:null},"A map including ",(0,r.kt)("a",{parentName:"td",href:"/windows/next/windowobjects#3"},(0,r.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"//Initiates a card tokenization operation.\napi.TokenizeCard();\n")),(0,r.kt)("h4",{id:"events-invoked-9"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment terminal during the transaction, for example: 'waiting for card' or 'waiting for PIN entry'"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#5"},(0,r.kt)("em",{parentName:"a"},"signatureRequired")))),(0,r.kt)("p",null,"This event is invoked if the card issuer requires the cardholder to sign the transaction receipt."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))," "),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))),(0,r.kt)("h2",{id:"stop-current-transaction"},"Stop Current Transaction"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"StopCurrentTransaction")," ",(0,r.kt)("span",{class:"badge badge--info"},"Method")),(0,r.kt)("p",null,"This method attempts to cancel the current transaction on the payment terminal. Note that operations can only be cancelled before requests are sent to the gateway. There is a flag called ",(0,r.kt)("a",{parentName:"p",href:"windowobjects#status-info"},"cancelAllowed")," in the currentTransactionStatus event that can be used to check if the transaction is in a state allowing the transaction to be cancelled."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"this.Hapi.StopCurrentTransaction();\n")),(0,r.kt)("h4",{id:"events-invoked-10"},"Events invoked"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#4"},(0,r.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,r.kt)("p",null,"This event gets statuses from the payment terminal during the transaction, for example: 'waiting for card' or 'waiting for PIN entry'"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/windows/next/windowsevents#6"},(0,r.kt)("em",{parentName:"a"},"endOfTransaction")))," "),(0,r.kt)("p",null,"This event is invoked when the transaction is completed, it contains the transaction result and receipts. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to the payment terminal")))))}m.isMDXComponent=!0}}]);